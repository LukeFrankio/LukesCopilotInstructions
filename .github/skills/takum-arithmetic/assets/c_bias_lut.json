{
  "description": "Characteristic bias lookup table (c_bias) for Takum encoding",
  "version": "2.0",
  "note": "c_bias(r) = 2^(r+1) - 1 for r in [0,7]",
  
  "table": {
    "0": { "r": 0, "c_bias": 1,   "formula": "2^1 - 1 = 1",   "binary": "0b1" },
    "1": { "r": 1, "c_bias": 3,   "formula": "2^2 - 1 = 3",   "binary": "0b11" },
    "2": { "r": 2, "c_bias": 7,   "formula": "2^3 - 1 = 7",   "binary": "0b111" },
    "3": { "r": 3, "c_bias": 15,  "formula": "2^4 - 1 = 15",  "binary": "0b1111" },
    "4": { "r": 4, "c_bias": 31,  "formula": "2^5 - 1 = 31",  "binary": "0b11111" },
    "5": { "r": 5, "c_bias": 63,  "formula": "2^6 - 1 = 63",  "binary": "0b111111" },
    "6": { "r": 6, "c_bias": 127, "formula": "2^7 - 1 = 127", "binary": "0b1111111" },
    "7": { "r": 7, "c_bias": 255, "formula": "2^8 - 1 = 255", "binary": "0b11111111" }
  },
  
  "usage": {
    "encoding": "l_biased = (l >= 0) ? c_bias(r) + C : c_bias(r) - 1 - C",
    "decoding": "l = (D == 1) ? l_biased - c_bias(r) : c_bias(r) - 1 - l_biased"
  },
  
  "regime_lengths": {
    "description": "How regime value r maps to bit allocations",
    "note": "For an n-bit takum: characteristic_bits = r, mantissa_bits = n - 5 - r",
    
    "takum8": {
      "r0": { "c_bits": 0, "m_bits": 3, "precision_bits": 3 },
      "r1": { "c_bits": 1, "m_bits": 2, "precision_bits": 3 },
      "r2": { "c_bits": 2, "m_bits": 1, "precision_bits": 3 },
      "r3": { "c_bits": 3, "m_bits": 0, "precision_bits": 3 }
    },
    
    "takum16": {
      "r0": { "c_bits": 0, "m_bits": 11, "precision_bits": 11 },
      "r1": { "c_bits": 1, "m_bits": 10, "precision_bits": 11 },
      "r2": { "c_bits": 2, "m_bits": 9,  "precision_bits": 11 },
      "r3": { "c_bits": 3, "m_bits": 8,  "precision_bits": 11 },
      "r4": { "c_bits": 4, "m_bits": 7,  "precision_bits": 11 },
      "r5": { "c_bits": 5, "m_bits": 6,  "precision_bits": 11 },
      "r6": { "c_bits": 6, "m_bits": 5,  "precision_bits": 11 },
      "r7": { "c_bits": 7, "m_bits": 4,  "precision_bits": 11 }
    },
    
    "takum32": {
      "r0": { "c_bits": 0, "m_bits": 27, "precision_bits": 27 },
      "r1": { "c_bits": 1, "m_bits": 26, "precision_bits": 27 },
      "r2": { "c_bits": 2, "m_bits": 25, "precision_bits": 27 },
      "r3": { "c_bits": 3, "m_bits": 24, "precision_bits": 27 },
      "r4": { "c_bits": 4, "m_bits": 23, "precision_bits": 27 },
      "r5": { "c_bits": 5, "m_bits": 22, "precision_bits": 27 },
      "r6": { "c_bits": 6, "m_bits": 21, "precision_bits": 27 },
      "r7": { "c_bits": 7, "m_bits": 20, "precision_bits": 27 }
    },
    
    "takum64": {
      "r0": { "c_bits": 0, "m_bits": 59, "precision_bits": 59 },
      "r1": { "c_bits": 1, "m_bits": 58, "precision_bits": 59 },
      "r2": { "c_bits": 2, "m_bits": 57, "precision_bits": 59 },
      "r3": { "c_bits": 3, "m_bits": 56, "precision_bits": 59 },
      "r4": { "c_bits": 4, "m_bits": 55, "precision_bits": 59 },
      "r5": { "c_bits": 5, "m_bits": 54, "precision_bits": 59 },
      "r6": { "c_bits": 6, "m_bits": 53, "precision_bits": 59 },
      "r7": { "c_bits": 7, "m_bits": 52, "precision_bits": 59 }
    }
  },
  
  "l_ranges": {
    "description": "Logarithm l ranges per regime value",
    
    "positive_direction": {
      "r0": { "l_min": 0, "l_max": 0, "c_range": "[0, 0]" },
      "r1": { "l_min": 1, "l_max": 2, "c_range": "[0, 1]" },
      "r2": { "l_min": 3, "l_max": 6, "c_range": "[0, 3]" },
      "r3": { "l_min": 7, "l_max": 14, "c_range": "[0, 7]" },
      "r4": { "l_min": 15, "l_max": 30, "c_range": "[0, 15]" },
      "r5": { "l_min": 31, "l_max": 62, "c_range": "[0, 31]" },
      "r6": { "l_min": 63, "l_max": 126, "c_range": "[0, 63]" },
      "r7": { "l_min": 127, "l_max": 255, "c_range": "[0, 127]" }
    },
    
    "negative_direction": {
      "r0": { "l_min": -1, "l_max": -1, "c_range": "[0, 0]" },
      "r1": { "l_min": -3, "l_max": -2, "c_range": "[0, 1]" },
      "r2": { "l_min": -7, "l_max": -4, "c_range": "[0, 3]" },
      "r3": { "l_min": -15, "l_max": -8, "c_range": "[0, 7]" },
      "r4": { "l_min": -31, "l_max": -16, "c_range": "[0, 15]" },
      "r5": { "l_min": -63, "l_max": -32, "c_range": "[0, 31]" },
      "r6": { "l_min": -127, "l_max": -64, "c_range": "[0, 63]" },
      "r7": { "l_min": -255, "l_max": -128, "c_range": "[0, 127]" }
    }
  }
}
